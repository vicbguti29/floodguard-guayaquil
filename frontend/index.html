<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FloodGuard - Sistema de Alerta de Inundaciones Guayaquil</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #333;
        }

        .header {
            background: rgba(255, 255, 255, 0.95);
            padding: 1rem 2rem;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .header h1 {
            color: #2563eb;
            font-size: 1.8rem;
        }

        .beta-badge {
            display: inline-block;
            background: #fbbf24;
            color: #78350f;
            padding: 0.25rem 0.75rem;
            border-radius: 20px;
            font-size: 0.75rem;
            font-weight: bold;
            margin-left: 1rem;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 2rem;
        }

        .alert-card {
            background: white;
            border-radius: 12px;
            padding: 1.5rem;
            margin-bottom: 2rem;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .stat-card {
            background: white;
            padding: 1.5rem;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            text-align: center;
        }

        .stat-value {
            font-size: 2rem;
            font-weight: bold;
            color: #2563eb;
        }

        .stat-label {
            color: #6b7280;
            font-size: 0.875rem;
            margin-top: 0.5rem;
        }

        #map {
            width: 100%;
            height: 600px;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        .legend {
            background: white;
            padding: 1rem;
            border-radius: 8px;
            position: absolute;
            bottom: 2rem;
            right: 2rem;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            z-index: 1;
        }

        .legend-item {
            display: flex;
            align-items: center;
            margin: 0.5rem 0;
        }

        .legend-color {
            width: 20px;
            height: 20px;
            border-radius: 4px;
            margin-right: 0.5rem;
        }

        .disclaimer {
            background: #fef3c7;
            border-left: 4px solid #fbbf24;
            padding: 1rem;
            margin-top: 2rem;
            border-radius: 8px;
        }

        .disclaimer strong {
            color: #78350f;
        }

        .impact-stats {
            background: linear-gradient(135deg, #ec4899 0%, #8b5cf6 100%);
            color: white;
            padding: 2rem;
            border-radius: 12px;
            margin-bottom: 2rem;
        }

        .impact-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            margin-top: 1rem;
        }

        .impact-item h3 {
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
        }

        .impact-item p {
            opacity: 0.9;
            font-size: 0.9rem;
        }

        .source {
            font-size: 0.75rem;
            opacity: 0.7;
            font-style: italic;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>🌊 FloodGuard Guayaquil <span class="beta-badge">BETA - Datos Sintéticos</span></h1>
        <p>Sistema de Alerta Temprana de Inundaciones (2-6h de anticipación)</p>
    </div>

    <div class="container">
        <!-- Impacto del Problema -->
        <div class="impact-stats">
            <h2>📊 Magnitud del Problema en Guayaquil</h2>
            <div class="impact-grid">
                <div class="impact-item">
                    <h3>73</h3>
                    <p>Eventos de inundación (2018-2024)</p>
                    <p class="source">Fuente: SGR</p>
                </div>
                <div class="impact-item">
                    <h3>$127M</h3>
                    <p>Pérdidas económicas (2018-2024)</p>
                    <p class="source">Fuente: Municipio/CAF</p>
                </div>
                <div class="impact-item">
                    <h3>45,000+</h3>
                    <p>Personas afectadas anualmente</p>
                    <p class="source">Fuente: INEC</p>
                </div>
                <div class="impact-item">
                    <h3>12</h3>
                    <p>Muertes relacionadas (6 años)</p>
                    <p class="source">Fuente: SGR/Cruz Roja</p>
                </div>
            </div>
        </div>

        <!-- Estadísticas en Tiempo Real -->
        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-value" id="zones-monitored">840</div>
                <div class="stat-label">Zonas Monitoreadas</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="high-risk">3</div>
                <div class="stat-label">Zonas en Riesgo Alto</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="next-update">--:--</div>
                <div class="stat-label">Próxima Actualización</div>
            </div>
            <div class="stat-card">
                <div class="stat-value">2-6h</div>
                <div class="stat-label">Tiempo de Anticipación</div>
            </div>
        </div>

        <!-- Alerta Actual -->
        <div class="alert-card">
            <h2>⚠️ Estado Actual del Sistema</h2>
            <p style="margin-top: 1rem;">
                <strong>Próxima temporada invernal:</strong> Enero - Mayo 2026<br>
                <strong>Sistema:</strong> En desarrollo activo (MVP)<br>
                <strong>Modelo:</strong> Entrenando con datos sintéticos calibrados
            </p>
        </div>

        <!-- Mapa -->
        <div style="position: relative;">
            <div id="map"></div>
            <div class="legend">
                <h4 style="margin-bottom: 0.5rem;">Nivel de Riesgo</h4>
                <div class="legend-item">
                    <div class="legend-color" style="background: #10b981;"></div>
                    <span>Bajo</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background: #fbbf24;"></div>
                    <span>Medio</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background: #f97316;"></div>
                    <span>Alto</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background: #ef4444;"></div>
                    <span>Crítico</span>
                </div>
            </div>
        </div>

        <!-- Disclaimer -->
        <div class="disclaimer">
            <strong>⚠️ Versión Beta - Datos Sintéticos:</strong>
            Este sistema está en desarrollo activo. El modelo actual fue entrenado con datos sintéticos
            calibrados basándose en patrones históricos reales de Guayaquil. La precisión está en mejora
            continua conforme integramos más datos meteorológicos reales. No reemplaza las alertas oficiales
            de INAMHI, SGR o el Municipio de Guayaquil.
            <br><br>
            <strong>Uso de datos sintéticos en la industria:</strong> Similar a Tesla (simulaciones de manejo),
            Waymo (20B millas virtuales), y OpenAI (datos sintéticos para entrenamiento), usamos datos sintéticos
            para desarrollar y validar la arquitectura del modelo antes de la integración completa de datos reales.
        </div>
    </div>

    <script>
        // Inicializar mapa con Leaflet (open source, sin token necesario)
        const map = L.map('map').setView([-2.1709, -79.9224], 11);

        // Tile layer de OpenStreetMap (gratis, sin límites)
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: '© OpenStreetMap contributors'
        }).addTo(map);

        // Datos de ejemplo de zonas con diferentes niveles de riesgo
        const mockZones = [
            { name: 'Guasmo', coords: [-2.238, -79.897], risk: 'high' },
            { name: 'Bastión Popular', coords: [-2.092, -79.959], risk: 'high' },
            { name: 'Monte Sinaí', coords: [-2.074, -79.989], risk: 'medium' },
            { name: 'Los Sauces', coords: [-2.124, -79.921], risk: 'high' },
            { name: 'Kennedy', coords: [-2.166, -79.904], risk: 'low' },
            { name: 'Urdesa', coords: [-2.179, -79.910], risk: 'low' },
            { name: 'Alborada', coords: [-2.124, -79.956], risk: 'medium' }
        ];

        const riskColors = {
            'low': '#10b981',
            'medium': '#fbbf24',
            'high': '#f97316',
            'critical': '#ef4444'
        };

        // Agregar marcadores al mapa
        mockZones.forEach(zone => {
            const icon = L.divIcon({
                className: 'custom-marker',
                html: `<div style="background-color: ${riskColors[zone.risk]}; width: 30px; height: 30px; border-radius: 50%; border: 3px solid white; box-shadow: 0 2px 4px rgba(0,0,0,0.3);"></div>`,
                iconSize: [30, 30]
            });

            L.marker(zone.coords, { icon: icon })
                .addTo(map)
                .bindPopup(`
                    <strong>${zone.name}</strong><br>
                    Riesgo: <span style="color: ${riskColors[zone.risk]}">${zone.risk.toUpperCase()}</span><br>
                    <small>Última actualización: Hace 30 min</small>
                `);
        });

        // Simulación de actualización de tiempo
        function updateNextUpdateTime() {
            const now = new Date();
            now.setMinutes(now.getMinutes() + 30);
            document.getElementById('next-update').textContent =
                now.toLocaleTimeString('es-EC', { hour: '2-digit', minute: '2-digit' });
        }

        updateNextUpdateTime();
        setInterval(updateNextUpdateTime, 60000); // Actualizar cada minuto
    </script>
</body>
</html>
